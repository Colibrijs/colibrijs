"use strict";(self.webpackChunk_colibrijs_core=self.webpackChunk_colibrijs_core||[]).push([[982],{"./components/components-remove/__stories__/components-remove.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>components_remove_stories});var components=__webpack_require__("../mocks/components.ts"),dist=__webpack_require__("../../node_modules/@storybook/test/dist/index.mjs"),message=__webpack_require__("../../node_modules/antd/es/message/index.js"),react=__webpack_require__("../../node_modules/react/index.js"),DeleteOutlined=__webpack_require__("../../node_modules/@ant-design/icons/es/icons/DeleteOutlined.js"),useMutation=__webpack_require__("../../node_modules/@tanstack/react-query/build/modern/useMutation.js"),popconfirm=__webpack_require__("../../node_modules/antd/es/popconfirm/index.js"),tooltip=__webpack_require__("../../node_modules/antd/es/tooltip/index.js"),es_button=__webpack_require__("../../node_modules/antd/es/button/index.js"),use_api=__webpack_require__("./hooks/use-api/index.ts");function ComponentsRemove(param){var component=param.component,onRemove=param.onRemove,api=(0,use_api.g)(),_useMutation=(0,useMutation.n)({mutationFn:function(){return api.components.delete(component.id)},onError:function(error){return message.Ay.error(react.createElement("span",{"data-testid":"components-remove__error"},error.message))},onSuccess:function(removedComponent){onRemove(removedComponent),message.Ay.success(react.createElement("span",{"data-testid":"components-remove__success"},"Компонент “",component.componentName,"” успешно удалён"))}}),deleteComponent=_useMutation.mutate,isPending=_useMutation.isPending,confirmHandler=(0,react.useCallback)((function(){deleteComponent()}),[deleteComponent]);return react.createElement(popconfirm.A,{title:"Удалить компонент?",description:"Компонент “".concat(component.componentName,"” будет удалён с концами"),okText:react.createElement("span",{"data-testid":"components-remove__confirm"},"Да"),cancelText:"Галя, отмена",onConfirm:confirmHandler},react.createElement(tooltip.A,{title:"Удалить"},react.createElement(es_button.Ay,{loading:isPending,icon:react.createElement(DeleteOutlined.A,null),htmlType:"button","data-testid":"components-remove__remove",shape:"circle",danger:!0})))}ComponentsRemove.__docgenInfo={description:"",methods:[],displayName:"ComponentsRemove",props:{component:{required:!0,tsType:{name:"IComponent"},description:""},onRemove:{required:!0,tsType:{name:"signature",type:"function",raw:"(component: IComponent) => void",signature:{arguments:[{type:{name:"IComponent"},name:"component"}],return:{name:"void"}}},description:""}}};const components_remove_stories={component:ComponentsRemove,title:"ComponentsRemove",args:{component:components.e,onRemove:(0,dist.fn)()},decorators:[function(Story){return message.Ay.destroy(),react.createElement(Story,null)}]};var Default={};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{}",...Default.parameters?.docs?.source}}};const __namedExportsOrder=["Default"]},"./hooks/use-api/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{g:()=>_use_api__WEBPACK_IMPORTED_MODULE_0__.g});var _use_api__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./hooks/use-api/use-api.ts")}}]);