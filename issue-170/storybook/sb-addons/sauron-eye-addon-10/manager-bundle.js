try{
(()=>{var W=Object.create;var D=Object.defineProperty;var Y=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var V=Object.getPrototypeOf,z=Object.prototype.hasOwnProperty;var T=(e,o)=>()=>(e&&(o=e(e=0)),o);var Q=(e,o)=>()=>(o||e((o={exports:{}}).exports,o),o.exports);var J=(e,o,r,p)=>{if(o&&typeof o=="object"||typeof o=="function")for(let n of K(o))!z.call(e,n)&&n!==r&&D(e,n,{get:()=>o[n],enumerable:!(p=Y(o,n))||p.enumerable});return e};var Z=(e,o,r)=>(r=e!=null?W(V(e)):{},J(o||!e||!e.__esModule?D(r,"default",{value:e,enumerable:!0}):r,e));var s=T(()=>{});var c=T(()=>{});var a=T(()=>{});var U=Q((Ea,A)=>{s();c();a();(function(){"use strict";var e={}.hasOwnProperty;function o(){for(var n="",i=0;i<arguments.length;i++){var I=arguments[i];I&&(n=p(n,r(I)))}return n}function r(n){if(typeof n=="string"||typeof n=="number")return n;if(typeof n!="object")return"";if(Array.isArray(n))return o.apply(null,n);if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]"))return n.toString();var i="";for(var I in n)e.call(n,I)&&n[I]&&(i=p(i,I));return i}function p(n,i){return i?n?n+" "+i:n+i:n}typeof A<"u"&&A.exports?(o.default=o,A.exports=o):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return o}):window.classNames=o})()});s();c();a();s();c();a();s();c();a();s();c();a();var uo=__STORYBOOK_API__,{ActiveTabs:ho,Consumer:fo,ManagerContext:So,Provider:yo,RequestResponseError:Co,addons:b,combineParameters:go,controlOrMetaKey:bo,controlOrMetaSymbol:_o,eventMatchesShortcut:Ao,eventToShortcut:xo,experimental_requestResponse:To,isMacLike:vo,isShortcutTaken:Po,keyToSymbol:No,merge:ko,mockChannel:Do,optionOrAltSymbol:wo,shortcutMatchesShortcut:Oo,shortcutToHumanString:Eo,types:v,useAddonState:Bo,useArgTypes:Lo,useArgs:Ro,useChannel:Fo,useGlobalTypes:Uo,useGlobals:w,useParameter:Ho,useSharedState:Mo,useStoryPrepared:Go,useStorybookApi:jo,useStorybookState:qo}=__STORYBOOK_API__;s();c();a();var t=__REACT__,{Children:Vo,Component:zo,Fragment:Qo,Profiler:Jo,PureComponent:Zo,StrictMode:Xo,Suspense:oe,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ee,cloneElement:te,createContext:ne,createElement:re,createFactory:se,createRef:ce,forwardRef:ae,isValidElement:ie,lazy:le,memo:pe,startTransition:Ie,unstable_act:de,useCallback:me,useContext:ue,useDebugValue:he,useDeferredValue:fe,useEffect:Se,useId:ye,useImperativeHandle:Ce,useInsertionEffect:ge,useLayoutEffect:be,useMemo:_e,useReducer:Ae,useRef:xe,useState:Te,useSyncExternalStore:ve,useTransition:Pe,version:Ne}=__REACT__;s();c();a();s();c();a();var Ee=__STORYBOOK_COMPONENTS__,{A:Be,ActionBar:Le,AddonPanel:O,Badge:Re,Bar:Fe,Blockquote:Ue,Button:E,ClipboardCode:He,Code:Me,DL:Ge,Div:je,DocumentWrapper:qe,EmptyTabContent:$e,ErrorFormatter:We,FlexBar:Ye,Form:Ke,H1:Ve,H2:ze,H3:Qe,H4:Je,H5:Ze,H6:Xe,HR:ot,IconButton:B,IconButtonSkeleton:et,Icons:tt,Img:nt,LI:rt,Link:st,ListItem:ct,Loader:at,Modal:it,OL:lt,P:pt,Placeholder:It,Pre:dt,ResetWrapper:mt,ScrollArea:ut,Separator:ht,Spaced:ft,Span:St,StorybookIcon:yt,StorybookLogo:Ct,Symbols:gt,SyntaxHighlighter:bt,TT:_t,TabBar:At,TabButton:xt,TabWrapper:Tt,Table:vt,Tabs:Pt,TabsState:Nt,TooltipLinkList:kt,TooltipMessage:Dt,TooltipNote:wt,UL:Ot,WithTooltip:Et,WithTooltipPure:Bt,Zoom:Lt,codeCommon:Rt,components:Ft,createCopyToClipboardFunction:Ut,getStoryHref:Ht,icons:Mt,interleaveSeparators:Gt,nameSpaceClassNames:jt,resetComponents:qt,withReset:$t}=__STORYBOOK_COMPONENTS__;s();c();a();var zt=__STORYBOOK_ICONS__,{AccessibilityAltIcon:Qt,AccessibilityIcon:Jt,AddIcon:Zt,AdminIcon:Xt,AlertAltIcon:on,AlertIcon:en,AlignLeftIcon:tn,AlignRightIcon:nn,AppleIcon:rn,ArrowDownIcon:sn,ArrowLeftIcon:cn,ArrowRightIcon:an,ArrowSolidDownIcon:ln,ArrowSolidLeftIcon:pn,ArrowSolidRightIcon:In,ArrowSolidUpIcon:dn,ArrowUpIcon:mn,AzureDevOpsIcon:un,BackIcon:hn,BasketIcon:fn,BatchAcceptIcon:Sn,BatchDenyIcon:yn,BeakerIcon:Cn,BellIcon:gn,BitbucketIcon:bn,BoldIcon:_n,BookIcon:An,BookmarkHollowIcon:xn,BookmarkIcon:Tn,BottomBarIcon:vn,BottomBarToggleIcon:Pn,BoxIcon:Nn,BranchIcon:kn,BrowserIcon:Dn,ButtonIcon:wn,CPUIcon:On,CalendarIcon:En,CameraIcon:Bn,CategoryIcon:Ln,CertificateIcon:Rn,ChangedIcon:Fn,ChatIcon:Un,CheckIcon:Hn,ChevronDownIcon:Mn,ChevronLeftIcon:Gn,ChevronRightIcon:jn,ChevronSmallDownIcon:qn,ChevronSmallLeftIcon:$n,ChevronSmallRightIcon:Wn,ChevronSmallUpIcon:Yn,ChevronUpIcon:Kn,ChromaticIcon:Vn,ChromeIcon:zn,CircleHollowIcon:Qn,CircleIcon:Jn,ClearIcon:Zn,CloseAltIcon:Xn,CloseIcon:or,CloudHollowIcon:er,CloudIcon:tr,CogIcon:nr,CollapseIcon:rr,CommandIcon:sr,CommentAddIcon:cr,CommentIcon:ar,CommentsIcon:ir,CommitIcon:lr,CompassIcon:pr,ComponentDrivenIcon:Ir,ComponentIcon:dr,ContrastIcon:mr,ControlsIcon:ur,CopyIcon:hr,CreditIcon:fr,CrossIcon:Sr,DashboardIcon:yr,DatabaseIcon:Cr,DeleteIcon:gr,DiamondIcon:br,DirectionIcon:_r,DiscordIcon:Ar,DocChartIcon:xr,DocListIcon:Tr,DocumentIcon:vr,DownloadIcon:Pr,DragIcon:Nr,EditIcon:kr,EllipsisIcon:Dr,EmailIcon:wr,ExpandAltIcon:Or,ExpandIcon:Er,EyeCloseIcon:Br,EyeIcon:Lr,FaceHappyIcon:Rr,FaceNeutralIcon:Fr,FaceSadIcon:Ur,FacebookIcon:Hr,FailedIcon:Mr,FastForwardIcon:Gr,FigmaIcon:jr,FilterIcon:qr,FlagIcon:$r,FolderIcon:Wr,FormIcon:Yr,GDriveIcon:Kr,GithubIcon:Vr,GitlabIcon:zr,GlobeIcon:Qr,GoogleIcon:Jr,GraphBarIcon:Zr,GraphLineIcon:Xr,GraphqlIcon:os,GridAltIcon:es,GridIcon:ts,GrowIcon:ns,HeartHollowIcon:rs,HeartIcon:ss,HomeIcon:cs,HourglassIcon:as,InfoIcon:is,ItalicIcon:ls,JumpToIcon:ps,KeyIcon:Is,LightningIcon:ds,LightningOffIcon:ms,LinkBrokenIcon:us,LinkIcon:hs,LinkedinIcon:fs,LinuxIcon:Ss,ListOrderedIcon:ys,ListUnorderedIcon:Cs,LocationIcon:gs,LockIcon:bs,MarkdownIcon:_s,MarkupIcon:As,MediumIcon:xs,MemoryIcon:Ts,MenuIcon:vs,MergeIcon:Ps,MirrorIcon:Ns,MobileIcon:ks,MoonIcon:Ds,NutIcon:ws,OutboxIcon:Os,OutlineIcon:Es,PaintBrushIcon:Bs,PaperClipIcon:Ls,ParagraphIcon:Rs,PassedIcon:Fs,PhoneIcon:Us,PhotoDragIcon:L,PhotoIcon:Hs,PinAltIcon:Ms,PinIcon:Gs,PlayBackIcon:js,PlayIcon:qs,PlayNextIcon:$s,PlusIcon:Ws,PointerDefaultIcon:Ys,PointerHandIcon:Ks,PowerIcon:Vs,PrintIcon:zs,ProceedIcon:Qs,ProfileIcon:Js,PullRequestIcon:Zs,QuestionIcon:Xs,RSSIcon:oc,RedirectIcon:ec,ReduxIcon:tc,RefreshIcon:nc,ReplyIcon:rc,RepoIcon:sc,RequestChangeIcon:cc,RewindIcon:ac,RulerIcon:ic,SearchIcon:lc,ShareAltIcon:pc,ShareIcon:Ic,ShieldIcon:dc,SideBySideIcon:mc,SidebarAltIcon:uc,SidebarAltToggleIcon:hc,SidebarIcon:fc,SidebarToggleIcon:Sc,SpeakerIcon:yc,StackedIcon:Cc,StarHollowIcon:gc,StarIcon:bc,StickerIcon:_c,StopAltIcon:Ac,StopIcon:xc,StorybookIcon:Tc,StructureIcon:vc,SubtractIcon:Pc,SunIcon:Nc,SupportIcon:kc,SwitchAltIcon:Dc,SyncIcon:wc,TabletIcon:Oc,ThumbsUpIcon:Ec,TimeIcon:Bc,TimerIcon:Lc,TransferIcon:Rc,TrashIcon:Fc,TwitterIcon:Uc,TypeIcon:Hc,UbuntuIcon:Mc,UndoIcon:Gc,UnfoldIcon:jc,UnlockIcon:qc,UnpinIcon:$c,UploadIcon:Wc,UserAddIcon:Yc,UserAltIcon:Kc,UserIcon:Vc,UsersIcon:zc,VSCodeIcon:Qc,VerifiedIcon:Jc,VideoIcon:Zc,WandIcon:Xc,WatchIcon:oa,WindowsIcon:ea,WrenchIcon:ta,YoutubeIcon:na,ZoomIcon:ra,ZoomOutIcon:sa,ZoomResetIcon:ca,iconList:aa}=__STORYBOOK_ICONS__;s();c();a();s();c();a();async function R(){let e=new URL(window.location.href),o=await fetch(`${e.origin}${e.pathname}screenshots/report.json`);if(!o.ok)throw new Error(`\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u0434\u0430\u043D\u043D\u044B\u0445 \u043E \u0442\u0435\u0441\u0442\u0430\u0445: ${o.status}: ${o.statusText}`);return await o.json()}function X(e){return e.split("").map((o,r)=>o.toUpperCase()===o?`${r!==0?"-":""}${o.toLowerCase()}`:o).join("")}function _(e){let[o,r]=t.useState({status:"idle",stories:[],error:null,isLoading:!1});return t.useEffect(()=>{r({status:"loading",isLoading:!0,stories:[],error:null}),R().then(p=>{let i=p.testResults.filter(I=>I.status==="passed"?!1:I.name.includes("/screenshot/")||I.name.includes("\\screenshot\\")).flatMap(I=>I.assertionResults.map(f=>{let y=f.ancestorTitles[0].toLowerCase().replaceAll("/","-"),l=f.ancestorTitles[1],S=X(l),g=y+"--"+S,C=e.getData(g).name;return{path:y,name:l,id:S,key:y,title:C}}));r({status:"success",isLoading:!1,stories:i,error:null})}).catch(p=>{r({status:"error",isLoading:!1,stories:[],error:p})})},[e]),o}function F({api:e}){let[o,r]=w(),{stories:p}=_(e),n=t.useCallback(()=>{r({screenshotsComparatorActive:!o.screenshotsComparatorActive})},[o.screenshotsComparatorActive,r]),i=e.getCurrentStoryData();if(!i)return;if(!p.some(f=>{let y=f.path+"--"+f.id;return i.id===y})){o.screenshotsComparatorActive&&r({screenshotsComparatorActive:!1});return}return t.createElement(B,{active:!!o.screenshotsComparatorActive,title:"Compare screenshots",onClick:n},t.createElement(L,null))}s();c();a();s();c();a();var G=Z(U());var h={panel:"t",tr:"o",thead:"n",approved:"i",th:"r",td:"e",button:"a",checkbox:"s"};s();c();a();s();c();a();var x=null;async function H(e){if(x!==null)return x;let o=`https://api.github.com/repos/colibrijs/colibrijs/issues/${e}/comments`;return x=await(await fetch(o)).json(),x}var eo="\u041D\u0435 \u043D\u0430\u0448\u0435\u043B body \u0432\u043D\u0443\u0442\u0440\u0438 \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u044F \u0441 \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u0435\u043C \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u0439 \u0441\u043A\u0440\u0438\u043D\u0448\u043E\u0442\u043E\u0432",to="\u041D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439 \u0441 \u0434\u0430\u043D\u043D\u044B\u043C\u0438 \u0430\u043F\u0440\u0443\u0432\u043D\u0443\u0442\u044B\u0445 \u0442\u0435\u0441\u0442\u043E\u0432";function no(e){if(!e.length)return[];let o=e.find(i=>i.body.includes("\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u044E \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0432 \u0441\u043A\u0440\u0438\u043D\u0448\u043E\u0442\u0430\u0445"));if(!o)return[];let{body:r}=o;if(!r)throw new Error(eo);let p=r.replace(/\s+/g," ").trim().match(/<pre id="screenshots-data">(.*?)<\/pre>/);if(!p||!p.length||!p[1])throw new Error(to);let n=p[1];return JSON.parse(n)}function P(e,o){return e.some(r=>r.name===o.name&&r.path===o.path)}async function M(){if(isNaN(171))return[];let o=await H(171);return no(o)}function j({storiesToApprove:e,stories:o,api:r,onChange:p,approvedStories:n}){let i=t.useCallback(l=>()=>r.selectStory(l.path,l.id),[r]),I=t.useCallback(l=>{let S=e.findIndex(C=>l.path===C.path&&l.name===C.name),g=[...e];g.splice(S,1),p(g)},[p,e]),f=t.useCallback(l=>{let S=[...e,l];p(S)},[p,e]),y=t.useCallback(l=>S=>{S.target.checked?f(l):I(l)},[f,I]);return t.createElement("table",{className:h.panel},t.createElement("thead",{className:h.thead},t.createElement("tr",{className:h.tr},t.createElement("th",{className:h.th}),t.createElement("th",{className:h.th},"Name"),t.createElement("th",{className:h.th},"Title"))),t.createElement("tbody",null,o.map(l=>t.createElement("tr",{key:l.path+l.name,className:(0,G.default)(h.tr,{[h.approved]:P(n,l)})},t.createElement("td",{className:h.td},t.createElement("input",{disabled:P(n,l),className:h.checkbox,onChange:y(l),type:"checkbox"})),t.createElement("td",{className:h.td},l.name),t.createElement("td",{className:h.td},t.createElement("button",{className:h.button,onClick:i(l)},l.title))))))}function q({active:e,api:o}){let{status:r,stories:p,error:n}=_(o),[i,I]=t.useState([]),[f,y]=t.useState([]),[l,S]=t.useState("");t.useEffect(()=>{M().then(y).catch(C=>S(C.message))},[]);let g=t.useCallback(async()=>{let C=await fetch("https://api.github.com/repos/colibrijs/colibrijs/actions/workflows/screenshot-approve.yml/dispatches",{method:"POST",headers:{Authorization:"Bearer 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","Content-Type":"application/json"},body:JSON.stringify({ref:"issue-170",inputs:{"pull-request-number":"171","approved-screenshots":JSON.stringify([...f,...i],null,2)}})});if(C.ok)y(f.concat(i)),I([]);else{let k=await C.json();S(`\u041E\u0448\u0438\u0431\u043A\u0430 \u0430\u043F\u043F\u0440\u0443\u0432\u0430. ${k.status}: ${k.message}`)}},[f,i]);return e?r==="error"||l?t.createElement("div",{className:"screenshot-panel"},t.createElement("p",{className:"screenshot-panel__text"},"\u041D\u0430 \u0432\u043E\u0442, \u043D\u0430\u0432\u0435\u0440\u043D\u0438: "),t.createElement("pre",{className:"screenshot-panel__text"},JSON.stringify(n||l,null,2))):r==="loading"?t.createElement("div",{className:"screenshot-panel"},t.createElement("p",{className:"screenshot-panel__loading-text"},"\u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0434\u0430\u043D\u043D\u044B\u0445 \u043E \u0441\u0442\u043E\u0440\u0438\u0441\u0430\u0445...")):p.length?t.createElement(O,{active:e},t.createElement("div",{className:"screenshot-panel"},!!i.length&&t.createElement(E,{size:"medium",onClick:g},"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044C \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F"),t.createElement("p",{className:"screenshot-panel__text"},"\u0417\u0434\u0435\u0441\u044C \u0442\u044B \u043C\u043E\u0436\u0435\u0448\u044C \u043D\u0430\u0431\u043B\u044E\u0434\u0430\u0442\u044C \u0441\u043F\u0438\u0441\u043E\u043A \u0443\u043F\u0430\u0432\u0448\u0438\u0445 \u0442\u0435\u0441\u0442\u043E\u0432: "),t.createElement(j,{stories:p,api:o,storiesToApprove:i,approvedStories:f,onChange:I}))):t.createElement("div",{className:"screenshot-panel"},t.createElement("p",{className:"screenshot-panel__success-text"},"\u0412\u0441\u0435 \u0441\u043A\u0440\u0438\u043D\u0448\u043E\u0442\u043D\u044B\u0435 \u0442\u0435\u0441\u0442\u044B \u043F\u0440\u043E\u0448\u043B\u0438 \u0443\u0441\u043F\u0435\u0448\u043D\u043E!")):null}var N="@colibrijs/screenshots",ro=`${N}/panel`,so=`${N}/screenshots-diff-tool`;function $(){b.register(N,e=>{b.add(ro,{type:v.PANEL,title:"Screenshots",render:({active:o})=>t.createElement(q,{active:!!o,api:e})}),b.add(so,{type:v.TOOL,title:"Compare sheet",render:()=>t.createElement(F,{api:e})})})}$();})();
}catch(e){ console.error("[Storybook] One of your manager-entries failed: " + import.meta.url, e); }
