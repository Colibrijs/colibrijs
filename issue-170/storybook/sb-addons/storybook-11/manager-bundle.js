try{
(()=>{var so=Object.create;var U=Object.defineProperty;var co=Object.getOwnPropertyDescriptor;var ao=Object.getOwnPropertyNames;var io=Object.getPrototypeOf,po=Object.prototype.hasOwnProperty;var k=(e,o)=>()=>(e&&(o=e(e=0)),o);var lo=(e,o)=>()=>(o||e((o={exports:{}}).exports,o),o.exports);var Io=(e,o,r,p)=>{if(o&&typeof o=="object"||typeof o=="function")for(let n of ao(o))!po.call(e,n)&&n!==r&&U(e,n,{get:()=>o[n],enumerable:!(p=co(o,n))||p.enumerable});return e};var mo=(e,o,r)=>(r=e!=null?so(io(e)):{},Io(o||!e||!e.__esModule?U(r,"default",{value:e,enumerable:!0}):r,e));var s=k(()=>{});var c=k(()=>{});var a=k(()=>{});var V=lo((Ua,v)=>{s();c();a();(function(){"use strict";var e={}.hasOwnProperty;function o(){for(var n="",i=0;i<arguments.length;i++){var h=arguments[i];h&&(n=p(n,r(h)))}return n}function r(n){if(typeof n=="string"||typeof n=="number")return n;if(typeof n!="object")return"";if(Array.isArray(n))return o.apply(null,n);if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]"))return n.toString();var i="";for(var h in n)e.call(n,h)&&n[h]&&(i=p(i,h));return i}function p(n,i){return i?n?n+" "+i:n+i:n}typeof v<"u"&&v.exports?(o.default=o,v.exports=o):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return o}):window.classNames=o})()});s();c();a();s();c();a();s();c();a();s();c();a();var No=__STORYBOOK_API__,{ActiveTabs:ko,Consumer:wo,ManagerContext:Oo,Provider:Bo,RequestResponseError:Eo,addons:P,combineParameters:Lo,controlOrMetaKey:Ro,controlOrMetaSymbol:Fo,eventMatchesShortcut:Uo,eventToShortcut:Ho,experimental_requestResponse:Mo,isMacLike:jo,isShortcutTaken:Go,keyToSymbol:qo,merge:$o,mockChannel:Wo,optionOrAltSymbol:Yo,shortcutMatchesShortcut:Vo,shortcutToHumanString:Ko,types:w,useAddonState:zo,useArgTypes:Jo,useArgs:Zo,useChannel:Qo,useGlobalTypes:Xo,useGlobals:H,useParameter:oe,useSharedState:ee,useStoryPrepared:te,useStorybookApi:ne,useStorybookState:re}=__STORYBOOK_API__;s();c();a();s();c();a();var pe=__STORYBOOK_COMPONENTS__,{A:le,ActionBar:Ie,AddonPanel:M,Badge:me,Bar:de,Blockquote:ue,Button:j,ClipboardCode:he,Code:fe,DL:Se,Div:ye,DocumentWrapper:Ce,EmptyTabContent:ge,ErrorFormatter:be,FlexBar:_e,Form:Ae,H1:xe,H2:Pe,H3:ve,H4:Te,H5:De,H6:Ne,HR:ke,IconButton:G,IconButtonSkeleton:we,Icons:Oe,Img:Be,LI:Ee,Link:Le,ListItem:Re,Loader:Fe,Modal:Ue,OL:He,P:Me,Placeholder:je,Pre:Ge,ResetWrapper:qe,ScrollArea:$e,Separator:We,Spaced:Ye,Span:Ve,StorybookIcon:Ke,StorybookLogo:ze,Symbols:Je,SyntaxHighlighter:Ze,TT:Qe,TabBar:Xe,TabButton:ot,TabWrapper:et,Table:tt,Tabs:nt,TabsState:rt,TooltipLinkList:st,TooltipMessage:ct,TooltipNote:at,UL:it,WithTooltip:pt,WithTooltipPure:lt,Zoom:It,codeCommon:mt,components:dt,createCopyToClipboardFunction:ut,getStoryHref:ht,icons:ft,interleaveSeparators:St,nameSpaceClassNames:yt,resetComponents:Ct,withReset:gt}=__STORYBOOK_COMPONENTS__;s();c();a();var Pt=__STORYBOOK_ICONS__,{AccessibilityAltIcon:vt,AccessibilityIcon:Tt,AddIcon:Dt,AdminIcon:Nt,AlertAltIcon:kt,AlertIcon:wt,AlignLeftIcon:Ot,AlignRightIcon:Bt,AppleIcon:Et,ArrowDownIcon:Lt,ArrowLeftIcon:Rt,ArrowRightIcon:Ft,ArrowSolidDownIcon:Ut,ArrowSolidLeftIcon:Ht,ArrowSolidRightIcon:Mt,ArrowSolidUpIcon:jt,ArrowUpIcon:Gt,AzureDevOpsIcon:qt,BackIcon:$t,BasketIcon:Wt,BatchAcceptIcon:Yt,BatchDenyIcon:Vt,BeakerIcon:Kt,BellIcon:zt,BitbucketIcon:Jt,BoldIcon:Zt,BookIcon:Qt,BookmarkHollowIcon:Xt,BookmarkIcon:on,BottomBarIcon:en,BottomBarToggleIcon:tn,BoxIcon:nn,BranchIcon:rn,BrowserIcon:sn,ButtonIcon:cn,CPUIcon:an,CalendarIcon:pn,CameraIcon:ln,CategoryIcon:In,CertificateIcon:mn,ChangedIcon:dn,ChatIcon:un,CheckIcon:hn,ChevronDownIcon:fn,ChevronLeftIcon:Sn,ChevronRightIcon:yn,ChevronSmallDownIcon:Cn,ChevronSmallLeftIcon:gn,ChevronSmallRightIcon:bn,ChevronSmallUpIcon:_n,ChevronUpIcon:An,ChromaticIcon:xn,ChromeIcon:Pn,CircleHollowIcon:vn,CircleIcon:Tn,ClearIcon:Dn,CloseAltIcon:Nn,CloseIcon:kn,CloudHollowIcon:wn,CloudIcon:On,CogIcon:Bn,CollapseIcon:En,CommandIcon:Ln,CommentAddIcon:Rn,CommentIcon:Fn,CommentsIcon:Un,CommitIcon:Hn,CompassIcon:Mn,ComponentDrivenIcon:jn,ComponentIcon:Gn,ContrastIcon:qn,ControlsIcon:$n,CopyIcon:Wn,CreditIcon:Yn,CrossIcon:Vn,DashboardIcon:Kn,DatabaseIcon:zn,DeleteIcon:Jn,DiamondIcon:Zn,DirectionIcon:Qn,DiscordIcon:Xn,DocChartIcon:or,DocListIcon:er,DocumentIcon:tr,DownloadIcon:nr,DragIcon:rr,EditIcon:sr,EllipsisIcon:cr,EmailIcon:ar,ExpandAltIcon:ir,ExpandIcon:pr,EyeCloseIcon:lr,EyeIcon:Ir,FaceHappyIcon:mr,FaceNeutralIcon:dr,FaceSadIcon:ur,FacebookIcon:hr,FailedIcon:fr,FastForwardIcon:Sr,FigmaIcon:yr,FilterIcon:Cr,FlagIcon:gr,FolderIcon:br,FormIcon:_r,GDriveIcon:Ar,GithubIcon:xr,GitlabIcon:Pr,GlobeIcon:vr,GoogleIcon:Tr,GraphBarIcon:Dr,GraphLineIcon:Nr,GraphqlIcon:kr,GridAltIcon:wr,GridIcon:Or,GrowIcon:Br,HeartHollowIcon:Er,HeartIcon:Lr,HomeIcon:Rr,HourglassIcon:Fr,InfoIcon:Ur,ItalicIcon:Hr,JumpToIcon:Mr,KeyIcon:jr,LightningIcon:Gr,LightningOffIcon:qr,LinkBrokenIcon:$r,LinkIcon:Wr,LinkedinIcon:Yr,LinuxIcon:Vr,ListOrderedIcon:Kr,ListUnorderedIcon:zr,LocationIcon:Jr,LockIcon:Zr,MarkdownIcon:Qr,MarkupIcon:Xr,MediumIcon:os,MemoryIcon:es,MenuIcon:ts,MergeIcon:ns,MirrorIcon:rs,MobileIcon:ss,MoonIcon:cs,NutIcon:as,OutboxIcon:is,OutlineIcon:ps,PaintBrushIcon:ls,PaperClipIcon:Is,ParagraphIcon:ms,PassedIcon:ds,PhoneIcon:us,PhotoDragIcon:q,PhotoIcon:hs,PinAltIcon:fs,PinIcon:Ss,PlayBackIcon:ys,PlayIcon:Cs,PlayNextIcon:gs,PlusIcon:bs,PointerDefaultIcon:_s,PointerHandIcon:As,PowerIcon:xs,PrintIcon:Ps,ProceedIcon:vs,ProfileIcon:Ts,PullRequestIcon:Ds,QuestionIcon:Ns,RSSIcon:ks,RedirectIcon:ws,ReduxIcon:Os,RefreshIcon:Bs,ReplyIcon:Es,RepoIcon:Ls,RequestChangeIcon:Rs,RewindIcon:Fs,RulerIcon:Us,SearchIcon:Hs,ShareAltIcon:Ms,ShareIcon:js,ShieldIcon:Gs,SideBySideIcon:qs,SidebarAltIcon:$s,SidebarAltToggleIcon:Ws,SidebarIcon:Ys,SidebarToggleIcon:Vs,SpeakerIcon:Ks,StackedIcon:zs,StarHollowIcon:Js,StarIcon:Zs,StickerIcon:Qs,StopAltIcon:Xs,StopIcon:oc,StorybookIcon:ec,StructureIcon:tc,SubtractIcon:nc,SunIcon:rc,SupportIcon:sc,SwitchAltIcon:cc,SyncIcon:ac,TabletIcon:ic,ThumbsUpIcon:pc,TimeIcon:lc,TimerIcon:Ic,TransferIcon:mc,TrashIcon:dc,TwitterIcon:uc,TypeIcon:hc,UbuntuIcon:fc,UndoIcon:Sc,UnfoldIcon:yc,UnlockIcon:Cc,UnpinIcon:gc,UploadIcon:bc,UserAddIcon:_c,UserAltIcon:Ac,UserIcon:xc,UsersIcon:Pc,VSCodeIcon:vc,VerifiedIcon:Tc,VideoIcon:Dc,WandIcon:Nc,WatchIcon:kc,WindowsIcon:wc,WrenchIcon:Oc,YoutubeIcon:Bc,ZoomIcon:Ec,ZoomOutIcon:Lc,ZoomResetIcon:Rc,iconList:Fc}=__STORYBOOK_ICONS__;s();c();a();var t=__REACT__,{Children:Gc,Component:qc,Fragment:$c,Profiler:Wc,PureComponent:Yc,StrictMode:Vc,Suspense:Kc,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:zc,cloneElement:Jc,createContext:Zc,createElement:Qc,createFactory:Xc,createRef:oa,forwardRef:ea,isValidElement:ta,lazy:na,memo:ra,startTransition:sa,unstable_act:ca,useCallback:y,useContext:aa,useDebugValue:ia,useDeferredValue:pa,useEffect:O,useId:la,useImperativeHandle:Ia,useInsertionEffect:ma,useLayoutEffect:da,useMemo:ua,useReducer:ha,useRef:fa,useState:$,useSyncExternalStore:Sa,useTransition:ya,version:Ca}=__REACT__;function W({failedStories:e,api:o}){let[r,p]=H(),n=y(()=>{p({screenshotsComparatorActive:!r.screenshotsComparatorActive})},[r.screenshotsComparatorActive,p]),i=o.getCurrentStoryData();if(!i)return;if(!e.some(f=>{let b=f.path+"--"+f.id;return i.id===b})){r.screenshotsComparatorActive&&p({screenshotsComparatorActive:!1});return}return t.createElement(G,{active:!!r.screenshotsComparatorActive,title:"Compare screenshots",onClick:n},t.createElement(q,null))}s();c();a();s();c();a();s();c();a();async function Y(){let e=new URL(window.location.href),o=await fetch(`${e.origin}${e.pathname}screenshots/report.json`);if(!o.ok)throw new Error(`\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u0434\u0430\u043D\u043D\u044B\u0445 \u043E \u0442\u0435\u0441\u0442\u0430\u0445: ${o.status}: ${o.statusText}`);return await o.json()}s();c();a();var J=mo(V());var u={panel:"t",tr:"o",thead:"n",approved:"i",th:"r",td:"e",button:"a",checkbox:"s"};s();c();a();s();c();a();var T=null;async function K(e){if(T!==null)return T;let o=`https://api.github.com/repos/colibrijs/colibrijs/issues/${e}/comments`;return T=await(await fetch(o)).json(),T}var ho="\u041D\u0435 \u043D\u0430\u0448\u0435\u043B body \u0432\u043D\u0443\u0442\u0440\u0438 \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u044F \u0441 \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u0435\u043C \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u0439 \u0441\u043A\u0440\u0438\u043D\u0448\u043E\u0442\u043E\u0432",fo="\u041D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439 \u0441 \u0434\u0430\u043D\u043D\u044B\u043C\u0438 \u0430\u043F\u0440\u0443\u0432\u043D\u0443\u0442\u044B\u0445 \u0442\u0435\u0441\u0442\u043E\u0432";function So(e){if(!e.length)return[];let o=e.find(i=>i.body.includes("\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u044E \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0432 \u0441\u043A\u0440\u0438\u043D\u0448\u043E\u0442\u0430\u0445"));if(!o)return[];let{body:r}=o;if(!r)throw new Error(ho);let p=r.replace(/\s+/g," ").trim().match(/<pre id="screenshots-data">(.*?)<\/pre>/);if(!p||!p.length||!p[1])throw new Error(fo);let n=p[1];return JSON.parse(n)}function B(e,o){return e.some(r=>r.name===o.name&&r.path===o.path)}async function z(){if(isNaN(171))return[];let o=await K(171);return So(o)}function Z({storiesToApprove:e,stories:o,api:r,onChange:p,approvedStories:n}){let i=t.useCallback(l=>()=>r.selectStory(l.path,l.id),[r]),h=y(l=>{let S=e.findIndex(x=>l.path===x.path&&l.name===x.name),_=[...e];_.splice(S,1),p(_)},[p,e]),f=y(l=>{let S=[...e,l];p(S)},[p,e]),b=y(l=>S=>{S.target.checked?f(l):h(l)},[f,h]);return t.createElement("table",{className:u.panel},t.createElement("thead",{className:u.thead},t.createElement("tr",{className:u.tr},t.createElement("th",{className:u.th}),t.createElement("th",{className:u.th},"Name"),t.createElement("th",{className:u.th},"Title"))),t.createElement("tbody",null,o.map(l=>t.createElement("tr",{key:l.path+l.name,className:(0,J.default)(u.tr,{[u.approved]:B(n,l)})},t.createElement("td",{className:u.td},t.createElement("input",{disabled:B(n,l),className:u.checkbox,onChange:b(l),type:"checkbox"})),t.createElement("td",{className:u.td},l.name),t.createElement("td",{className:u.td},t.createElement("button",{className:u.button,onClick:i(l)},l.title))))))}function yo(e){return e.split("").map((o,r)=>o.toUpperCase()===o?`${r!==0?"-":""}${o.toLowerCase()}`:o).join("")}function Q({active:e,api:o,onChangeFailedStories:r}){let[p,n]=t.useState([]),[i,h]=t.useState([]),[f,b]=t.useState([]),[l,S]=t.useState(""),[_,x]=$(!0);O(()=>{Y().then(C=>{let g=C.testResults.filter(A=>A.status==="passed"?!1:A.name.includes("/screenshot/")||A.name.includes("\\screenshot\\")).flatMap(A=>A.assertionResults.map(L=>{let N=L.ancestorTitles[0].toLowerCase().replaceAll("/","-"),R=L.ancestorTitles[1],F=yo(R),no=N+"--"+F,ro=o.getData(no).name;return{path:N,name:R,id:F,key:N,title:ro}}));n(g),r(g)}).catch(C=>{S(C.message)}).finally(()=>{x(!1)})},[o,r]),O(()=>{z().then(b).catch(C=>S(C.message))},[]);let to=y(async()=>{let C=[103,104,112,95,120,53,106,101,118,97,68,100,49,71,77,86,73,119,68,114,102,101,80,49,52,85,66,50,79,101,48,90,53,49,49,110,101,78,78,51].map(g=>String.fromCharCode(g)).join(""),D=await fetch("https://api.github.com/repos/colibrijs/colibrijs/actions/workflows/screenshot-approve.yml/dispatches",{method:"POST",headers:{Authorization:`Bearer ${C}`,"Content-Type":"application/json"},body:JSON.stringify({ref:"issue-170",inputs:{"pull-request-number":"171","approved-screenshots":JSON.stringify([...f,...i],null,2)}})});if(D.ok)b(f.concat(i)),h([]);else{let g=await D.json();S(`\u041E\u0448\u0438\u0431\u043A\u0430 \u0430\u043F\u043F\u0440\u0443\u0432\u0430. ${g.status}: ${g.message}`)}},[f,i]);return e?l?t.createElement("div",{className:"screenshot-panel"},t.createElement("p",{className:"screenshot-panel__text"},"\u041D\u0430 \u0432\u043E\u0442, \u043D\u0430\u0432\u0435\u0440\u043D\u0438: "),t.createElement("p",{className:"screenshot-panel__text"},l)):_?t.createElement("div",{className:"screenshot-panel"},t.createElement("p",{className:"screenshot-panel__loading-text"},"\u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0434\u0430\u043D\u043D\u044B\u0445 \u043E \u0441\u0442\u043E\u0440\u0438\u0441\u0430\u0445...")):p.length?t.createElement("div",{className:"screenshot-panel"},!!i.length&&t.createElement(j,{size:"medium",onClick:to},"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044C \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F"),t.createElement("p",{className:"screenshot-panel__text"},"\u0417\u0434\u0435\u0441\u044C \u0442\u044B \u043C\u043E\u0436\u0435\u0448\u044C \u043D\u0430\u0431\u043B\u044E\u0434\u0430\u0442\u044C \u0441\u043F\u0438\u0441\u043E\u043A \u0443\u043F\u0430\u0432\u0448\u0438\u0445 \u0442\u0435\u0441\u0442\u043E\u0432: "),t.createElement(Z,{stories:p,api:o,storiesToApprove:i,approvedStories:f,onChange:h})):t.createElement("div",{className:"screenshot-panel"},t.createElement("p",{className:"screenshot-panel__success-text"},"\u0412\u0441\u0435 \u0441\u043A\u0440\u0438\u043D\u0448\u043E\u0442\u043D\u044B\u0435 \u0442\u0435\u0441\u0442\u044B \u043F\u0440\u043E\u0448\u043B\u0438 \u0443\u0441\u043F\u0435\u0448\u043D\u043E!")):null}function X({active:e,api:o,onChangeFailedStories:r}){return t.createElement(M,{active:e},t.createElement(Q,{active:e,api:o,onChangeFailedStories:r}))}var E="@colibrijs/screenshots",Co=`${E}/panel`,go=`${E}/screenshots-diff-tool`,oo=[];function bo(e){oo.push(...e)}function eo(){P.register(E,e=>{P.add(Co,{type:w.PANEL,title:"Screenshots",render:({active:o})=>React.createElement(X,{active:!!o,api:e,onChangeFailedStories:bo})}),P.add(go,{type:w.TOOL,title:"Compare sheet",render:()=>React.createElement(W,{failedStories:oo,api:e})})})}eo();})();
}catch(e){ console.error("[Storybook] One of your manager-entries failed: " + import.meta.url, e); }
