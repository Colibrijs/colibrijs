try{
(()=>{var oo=Object.create;var H=Object.defineProperty;var eo=Object.getOwnPropertyDescriptor;var to=Object.getOwnPropertyNames;var no=Object.getPrototypeOf,ro=Object.prototype.hasOwnProperty;var P=(e,o)=>()=>(e&&(o=e(e=0)),o);var co=(e,o)=>()=>(o||e((o={exports:{}}).exports,o),o.exports);var so=(e,o,r,l)=>{if(o&&typeof o=="object"||typeof o=="function")for(let t of to(o))!ro.call(e,t)&&t!==r&&H(e,t,{get:()=>o[t],enumerable:!(l=eo(o,t))||l.enumerable});return e};var ao=(e,o,r)=>(r=e!=null?oo(no(e)):{},so(o||!e||!e.__esModule?H(r,"default",{value:e,enumerable:!0}):r,e));var c=P(()=>{});var s=P(()=>{});var a=P(()=>{});var Y=co((xa,N)=>{c();s();a();(function(){"use strict";var e={}.hasOwnProperty;function o(){for(var t="",p=0;p<arguments.length;p++){var I=arguments[p];I&&(t=l(t,r(I)))}return t}function r(t){if(typeof t=="string"||typeof t=="number")return t;if(typeof t!="object")return"";if(Array.isArray(t))return o.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var p="";for(var I in t)e.call(t,I)&&t[I]&&(p=l(p,I));return p}function l(t,p){return p?t?t+" "+p:t+p:t}typeof N<"u"&&N.exports?(o.default=o,N.exports=o):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return o}):window.classNames=o})()});c();s();a();c();s();a();c();s();a();c();s();a();var To=__STORYBOOK_COMPONENTS__,{A:xo,ActionBar:No,AddonPanel:M,Badge:vo,Bar:ko,Blockquote:wo,Button:F,ClipboardCode:Po,Code:Do,DL:Oo,Div:Bo,DocumentWrapper:Eo,EmptyTabContent:Lo,ErrorFormatter:Ro,FlexBar:Uo,Form:Ho,H1:Mo,H2:Fo,H3:jo,H4:Go,H5:qo,H6:$o,HR:Wo,IconButton:j,IconButtonSkeleton:Yo,Icons:Vo,Img:Ko,LI:zo,Link:Jo,ListItem:Zo,Loader:Qo,Modal:Xo,OL:oe,P:ee,Placeholder:te,Pre:ne,ResetWrapper:re,ScrollArea:ce,Separator:se,Spaced:ae,Span:ie,StorybookIcon:le,StorybookLogo:pe,Symbols:Ie,SyntaxHighlighter:de,TT:me,TabBar:ue,TabButton:he,TabWrapper:Se,Table:fe,Tabs:Ce,TabsState:ye,TooltipLinkList:be,TooltipMessage:ge,TooltipNote:_e,UL:Ae,WithTooltip:Te,WithTooltipPure:xe,Zoom:Ne,codeCommon:ve,components:ke,createCopyToClipboardFunction:we,getStoryHref:Pe,icons:De,interleaveSeparators:Oe,nameSpaceClassNames:Be,resetComponents:Ee,withReset:Le}=__STORYBOOK_COMPONENTS__;c();s();a();var Fe=__STORYBOOK_ICONS__,{AccessibilityAltIcon:je,AccessibilityIcon:Ge,AddIcon:qe,AdminIcon:$e,AlertAltIcon:We,AlertIcon:Ye,AlignLeftIcon:Ve,AlignRightIcon:Ke,AppleIcon:ze,ArrowDownIcon:Je,ArrowLeftIcon:Ze,ArrowRightIcon:Qe,ArrowSolidDownIcon:Xe,ArrowSolidLeftIcon:ot,ArrowSolidRightIcon:et,ArrowSolidUpIcon:tt,ArrowUpIcon:nt,AzureDevOpsIcon:rt,BackIcon:ct,BasketIcon:st,BatchAcceptIcon:at,BatchDenyIcon:it,BeakerIcon:lt,BellIcon:pt,BitbucketIcon:It,BoldIcon:dt,BookIcon:mt,BookmarkHollowIcon:ut,BookmarkIcon:ht,BottomBarIcon:St,BottomBarToggleIcon:ft,BoxIcon:Ct,BranchIcon:yt,BrowserIcon:bt,ButtonIcon:gt,CPUIcon:_t,CalendarIcon:At,CameraIcon:Tt,CategoryIcon:xt,CertificateIcon:Nt,ChangedIcon:vt,ChatIcon:kt,CheckIcon:wt,ChevronDownIcon:Pt,ChevronLeftIcon:Dt,ChevronRightIcon:Ot,ChevronSmallDownIcon:Bt,ChevronSmallLeftIcon:Et,ChevronSmallRightIcon:Lt,ChevronSmallUpIcon:Rt,ChevronUpIcon:Ut,ChromaticIcon:Ht,ChromeIcon:Mt,CircleHollowIcon:Ft,CircleIcon:jt,ClearIcon:Gt,CloseAltIcon:qt,CloseIcon:$t,CloudHollowIcon:Wt,CloudIcon:Yt,CogIcon:Vt,CollapseIcon:Kt,CommandIcon:zt,CommentAddIcon:Jt,CommentIcon:Zt,CommentsIcon:Qt,CommitIcon:Xt,CompassIcon:on,ComponentDrivenIcon:en,ComponentIcon:tn,ContrastIcon:nn,ControlsIcon:rn,CopyIcon:cn,CreditIcon:sn,CrossIcon:an,DashboardIcon:ln,DatabaseIcon:pn,DeleteIcon:In,DiamondIcon:dn,DirectionIcon:mn,DiscordIcon:un,DocChartIcon:hn,DocListIcon:Sn,DocumentIcon:fn,DownloadIcon:Cn,DragIcon:yn,EditIcon:bn,EllipsisIcon:gn,EmailIcon:_n,ExpandAltIcon:An,ExpandIcon:Tn,EyeCloseIcon:xn,EyeIcon:Nn,FaceHappyIcon:vn,FaceNeutralIcon:kn,FaceSadIcon:wn,FacebookIcon:Pn,FailedIcon:Dn,FastForwardIcon:On,FigmaIcon:Bn,FilterIcon:En,FlagIcon:Ln,FolderIcon:Rn,FormIcon:Un,GDriveIcon:Hn,GithubIcon:Mn,GitlabIcon:Fn,GlobeIcon:jn,GoogleIcon:Gn,GraphBarIcon:qn,GraphLineIcon:$n,GraphqlIcon:Wn,GridAltIcon:Yn,GridIcon:Vn,GrowIcon:Kn,HeartHollowIcon:zn,HeartIcon:Jn,HomeIcon:Zn,HourglassIcon:Qn,InfoIcon:Xn,ItalicIcon:or,JumpToIcon:er,KeyIcon:tr,LightningIcon:nr,LightningOffIcon:rr,LinkBrokenIcon:cr,LinkIcon:sr,LinkedinIcon:ar,LinuxIcon:ir,ListOrderedIcon:lr,ListUnorderedIcon:pr,LocationIcon:Ir,LockIcon:dr,MarkdownIcon:mr,MarkupIcon:ur,MediumIcon:hr,MemoryIcon:Sr,MenuIcon:fr,MergeIcon:Cr,MirrorIcon:yr,MobileIcon:br,MoonIcon:gr,NutIcon:_r,OutboxIcon:Ar,OutlineIcon:Tr,PaintBrushIcon:xr,PaperClipIcon:Nr,ParagraphIcon:vr,PassedIcon:kr,PhoneIcon:wr,PhotoDragIcon:G,PhotoIcon:Pr,PinAltIcon:Dr,PinIcon:Or,PlayBackIcon:Br,PlayIcon:Er,PlayNextIcon:Lr,PlusIcon:Rr,PointerDefaultIcon:Ur,PointerHandIcon:Hr,PowerIcon:Mr,PrintIcon:Fr,ProceedIcon:jr,ProfileIcon:Gr,PullRequestIcon:qr,QuestionIcon:$r,RSSIcon:Wr,RedirectIcon:Yr,ReduxIcon:Vr,RefreshIcon:Kr,ReplyIcon:zr,RepoIcon:Jr,RequestChangeIcon:Zr,RewindIcon:Qr,RulerIcon:Xr,SearchIcon:oc,ShareAltIcon:ec,ShareIcon:tc,ShieldIcon:nc,SideBySideIcon:rc,SidebarAltIcon:cc,SidebarAltToggleIcon:sc,SidebarIcon:ac,SidebarToggleIcon:ic,SpeakerIcon:lc,StackedIcon:pc,StarHollowIcon:Ic,StarIcon:dc,StickerIcon:mc,StopAltIcon:uc,StopIcon:hc,StorybookIcon:Sc,StructureIcon:fc,SubtractIcon:Cc,SunIcon:yc,SupportIcon:bc,SwitchAltIcon:gc,SyncIcon:_c,TabletIcon:Ac,ThumbsUpIcon:Tc,TimeIcon:xc,TimerIcon:Nc,TransferIcon:vc,TrashIcon:kc,TwitterIcon:wc,TypeIcon:Pc,UbuntuIcon:Dc,UndoIcon:Oc,UnfoldIcon:Bc,UnlockIcon:Ec,UnpinIcon:Lc,UploadIcon:Rc,UserAddIcon:Uc,UserAltIcon:Hc,UserIcon:Mc,UsersIcon:Fc,VSCodeIcon:jc,VerifiedIcon:Gc,VideoIcon:qc,WandIcon:$c,WatchIcon:Wc,WindowsIcon:Yc,WrenchIcon:Vc,YoutubeIcon:Kc,ZoomIcon:zc,ZoomOutIcon:Jc,ZoomResetIcon:Zc,iconList:Qc}=__STORYBOOK_ICONS__;c();s();a();var ns=__STORYBOOK_API__,{ActiveTabs:rs,Consumer:cs,ManagerContext:ss,Provider:as,RequestResponseError:is,addons:x,combineParameters:ls,controlOrMetaKey:ps,controlOrMetaSymbol:Is,eventMatchesShortcut:ds,eventToShortcut:ms,experimental_requestResponse:us,isMacLike:hs,isShortcutTaken:Ss,keyToSymbol:fs,merge:Cs,mockChannel:ys,optionOrAltSymbol:bs,shortcutMatchesShortcut:gs,shortcutToHumanString:_s,types:D,useAddonState:As,useArgTypes:Ts,useArgs:xs,useChannel:Ns,useGlobalTypes:vs,useGlobals:q,useParameter:ks,useSharedState:ws,useStoryPrepared:Ps,useStorybookApi:Ds,useStorybookState:Os}=__STORYBOOK_API__;c();s();a();var n=__REACT__,{Children:Ms,Component:Fs,Fragment:js,Profiler:Gs,PureComponent:qs,StrictMode:$s,Suspense:Ws,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Ys,cloneElement:Vs,createContext:Ks,createElement:zs,createFactory:Js,createRef:Zs,forwardRef:Qs,isValidElement:Xs,lazy:oa,memo:ea,startTransition:ta,unstable_act:na,useCallback:C,useContext:ra,useDebugValue:ca,useDeferredValue:sa,useEffect:O,useId:aa,useImperativeHandle:ia,useInsertionEffect:la,useLayoutEffect:pa,useMemo:Ia,useReducer:da,useRef:ma,useState:$,useSyncExternalStore:ua,useTransition:ha,version:Sa}=__REACT__;c();s();a();async function W(){let e=new URL(window.location.href),o=await fetch(`${e.origin}${e.pathname}screenshots/report.json`);if(!o.ok)throw new Error(`\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u0434\u0430\u043D\u043D\u044B\u0445 \u043E \u0442\u0435\u0441\u0442\u0430\u0445: ${o.status}: ${o.statusText}`);return await o.json()}c();s();a();var z=ao(Y());var d={panel:"t",tr:"o",thead:"n",approved:"i",th:"r",td:"e",button:"a",checkbox:"s"};c();s();a();c();s();a();var v=null;async function V(e){if(v!==null)return v;let o=`https://api.github.com/repos/colibrijs/colibrijs/issues/${e}/comments`;return v=await(await fetch(o)).json(),v}var lo="\u041D\u0435 \u043D\u0430\u0448\u0435\u043B body \u0432\u043D\u0443\u0442\u0440\u0438 \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u044F \u0441 \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u0435\u043C \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u0439 \u0441\u043A\u0440\u0438\u043D\u0448\u043E\u0442\u043E\u0432",po="\u041D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439 \u0441 \u0434\u0430\u043D\u043D\u044B\u043C\u0438 \u0430\u043F\u0440\u0443\u0432\u043D\u0443\u0442\u044B\u0445 \u0442\u0435\u0441\u0442\u043E\u0432";function Io(e){if(!e?.length)return[];let o=e.find(p=>p.body.includes("\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u044E \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0432 \u0441\u043A\u0440\u0438\u043D\u0448\u043E\u0442\u0430\u0445"));if(!o)return[];let{body:r}=o;if(!r)throw new Error(lo);let l=r.replace(/\s+/g," ").trim().match(/<pre id="screenshots-data">(.*?)<\/pre>/);if(!l||!l.length||!l[1])throw new Error(po);let t=l[1];return JSON.parse(t)}function B(e,o){return e.some(r=>r.name===o.name&&r.path===o.path)}async function K(){if(isNaN(169))return[];let o=await V(169);return Io(o)}function J({storiesToApprove:e,stories:o,api:r,onChange:l,approvedStories:t}){let p=n.useCallback(i=>()=>r.selectStory(i.path,i.id),[r]),I=C(i=>{let S=e.findIndex(T=>i.path===T.path&&i.name===T.name),g=[...e];g.splice(S,1),l(g)},[l,e]),b=C(i=>{let S=[...e,i];l(S)},[l,e]),A=C(i=>S=>{S.target.checked?b(i):I(i)},[b,I]);return n.createElement("table",{className:d.panel},n.createElement("thead",{className:d.thead},n.createElement("tr",{className:d.tr},n.createElement("th",{className:d.th}),n.createElement("th",{className:d.th},"Name"),n.createElement("th",{className:d.th},"Title"))),n.createElement("tbody",null,o.map(i=>n.createElement("tr",{key:i.path+i.name,className:(0,z.default)(d.tr,{[d.approved]:B(t,i)})},n.createElement("td",{className:d.td},n.createElement("input",{disabled:B(t,i),className:d.checkbox,onChange:A(i),type:"checkbox"})),n.createElement("td",{className:d.td},i.name),n.createElement("td",{className:d.td},n.createElement("button",{className:d.button,onClick:p(i)},i.title))))))}var E="@colibrijs/screenshots",mo=`${E}/panel`,uo=`${E}/screenshots-diff-tool`;function ho(e){return e.split("").map((o,r)=>o.toUpperCase()===o?`${r!==0?"-":""}${o.toLowerCase()}`:o).join("")}function So({active:e,api:o}){let[r,l]=n.useState([]),[t,p]=n.useState([]),[I,b]=n.useState([]),[A,i]=n.useState(""),[S,g]=$(!0);O(()=>{W().then(f=>{let y=f.testResults.filter(_=>_.status==="passed"?!1:_.name.includes("/screenshot/")||_.name.includes("\\screenshot\\")).flatMap(_=>_.assertionResults.map(L=>{let w=L.ancestorTitles[0].toLowerCase().replaceAll("/","-"),R=L.ancestorTitles[1],U=ho(R),Q=w+"--"+U,X=o.getData(Q).name;return{path:w,name:R,id:U,key:w,title:X}}));l(y)}).catch(f=>{i(f.message)}).finally(()=>{g(!1)})},[o]),O(()=>{K().then(b).catch(f=>i(f.message))},[]);let T=C(async()=>{let f=[103,104,112,95,120,53,106,101,118,97,68,100,49,71,77,86,73,119,68,114,102,101,80,49,52,85,66,50,79,101,48,90,53,49,49,110,101,78,78,51].map(y=>String.fromCharCode(y)).join(""),k=await fetch("https://api.github.com/repos/colibrijs/colibrijs/actions/workflows/screenshot-approve.yml/dispatches",{method:"POST",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"},body:JSON.stringify({ref:"issue-168",inputs:{"pull-request-number":"169","approved-screenshots":JSON.stringify([...I,...t],null,2)}})});if(k.ok)b(I.concat(t)),p([]);else{let y=await k.json();i(`\u041E\u0448\u0438\u0431\u043A\u0430 \u0430\u043F\u043F\u0440\u0443\u0432\u0430. ${y.status}: ${y.message}`)}},[I,t]);return e?A?n.createElement("div",{className:"screenshot-panel"},n.createElement("p",{className:"screenshot-panel__text"},"\u041D\u0430 \u0432\u043E\u0442, \u043D\u0430\u0432\u0435\u0440\u043D\u0438: "),n.createElement("p",{className:"screenshot-panel__text"},A)):S?n.createElement("div",{className:"screenshot-panel"},n.createElement("p",{className:"screenshot-panel__loading-text"},"\u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0434\u0430\u043D\u043D\u044B\u0445 \u043E \u0441\u0442\u043E\u0440\u0438\u0441\u0430\u0445...")):r.length?n.createElement("div",{className:"screenshot-panel"},!!t.length&&n.createElement(F,{size:"medium",onClick:T},"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044C \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F"),n.createElement("p",{className:"screenshot-panel__text"},"\u0417\u0434\u0435\u0441\u044C \u0442\u044B \u043C\u043E\u0436\u0435\u0448\u044C \u043D\u0430\u0431\u043B\u044E\u0434\u0430\u0442\u044C \u0441\u043F\u0438\u0441\u043E\u043A \u0443\u043F\u0430\u0432\u0448\u0438\u0445 \u0442\u0435\u0441\u0442\u043E\u0432: "),n.createElement(J,{stories:r,api:o,storiesToApprove:t,approvedStories:I,onChange:p})):n.createElement("div",{className:"screenshot-panel"},n.createElement("p",{className:"screenshot-panel__success-text"},"\u0412\u0441\u0435 \u0441\u043A\u0440\u0438\u043D\u0448\u043E\u0442\u043D\u044B\u0435 \u0442\u0435\u0441\u0442\u044B \u043F\u0440\u043E\u0448\u043B\u0438 \u0443\u0441\u043F\u0435\u0448\u043D\u043E!")):null}function Z(){x.register(E,e=>{x.add(mo,{type:D.PANEL,title:"Screenshots",render:({active:o})=>n.createElement(M,{active:!!o},n.createElement(So,{active:!!o,api:e}))}),x.add(uo,{type:D.TOOL,title:"Compare sheet",render:()=>{let[o,r]=q(),l=C(()=>{r({screenshotsComparatorActive:!o.screenshotsComparatorActive})},[o.screenshotsComparatorActive,r]);return n.createElement(j,{active:!!o.screenshotsComparatorActive,title:"Compare",onClick:l},n.createElement(G,null))}})})}Z();})();
}catch(e){ console.error("[Storybook] One of your manager-entries failed: " + import.meta.url, e); }
