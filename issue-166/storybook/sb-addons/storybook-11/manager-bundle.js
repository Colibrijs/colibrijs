try{
(()=>{var J=Object.create;var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var Q=Object.getOwnPropertyNames;var X=Object.getPrototypeOf,Z=Object.prototype.hasOwnProperty;var O=(t,e)=>()=>(t&&(e=t(t=0)),e);var ee=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var te=(t,e,s,l)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Q(e))!Z.call(t,o)&&o!==s&&B(t,o,{get:()=>e[o],enumerable:!(l=G(e,o))||l.enumerable});return t};var oe=(t,e,s)=>(s=t!=null?J(X(t)):{},te(e||!t||!t.__esModule?B(s,"default",{value:t,enumerable:!0}):s,t));var n=O(()=>{});var a=O(()=>{});var i=O(()=>{});var $=ee((sr,v)=>{n();a();i();(function(){"use strict";var t={}.hasOwnProperty;function e(){for(var o="",c=0;c<arguments.length;c++){var m=arguments[c];m&&(o=l(o,s(m)))}return o}function s(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return e.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var c="";for(var m in o)t.call(o,m)&&o[m]&&(c=l(c,m));return c}function l(o,c){return c?o?o+" "+c:o+c:o}typeof v<"u"&&v.exports?(e.default=e,v.exports=e):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return e}):window.classNames=e})()});n();a();i();n();a();i();n();a();i();n();a();i();var ye=__STORYBOOK_COMPONENTS__,{A:_e,ActionBar:be,AddonPanel:I,Badge:ge,Bar:Ne,Blockquote:xe,Button:M,ClipboardCode:Te,Code:Ce,DL:ve,Div:Ae,DocumentWrapper:Ee,EmptyTabContent:Oe,ErrorFormatter:Pe,FlexBar:ke,Form:De,H1:we,H2:Re,H3:Le,H4:Be,H5:Ie,H6:Me,HR:je,IconButton:He,IconButtonSkeleton:Ue,Icons:$e,Img:qe,LI:Fe,Link:Ye,ListItem:ze,Loader:Ve,Modal:We,OL:Ke,P:Je,Placeholder:Ge,Pre:Qe,ResetWrapper:Xe,ScrollArea:Ze,Separator:et,Spaced:tt,Span:ot,StorybookIcon:rt,StorybookLogo:st,Symbols:nt,SyntaxHighlighter:at,TT:it,TabBar:pt,TabButton:ct,TabWrapper:lt,Table:mt,Tabs:dt,TabsState:ut,TooltipLinkList:ht,TooltipMessage:ft,TooltipNote:St,UL:yt,WithTooltip:_t,WithTooltipPure:bt,Zoom:gt,codeCommon:Nt,components:xt,createCopyToClipboardFunction:Tt,getStoryHref:Ct,icons:vt,interleaveSeparators:At,nameSpaceClassNames:Et,resetComponents:Ot,withReset:Pt}=__STORYBOOK_COMPONENTS__;n();a();i();var Lt=__STORYBOOK_API__,{ActiveTabs:Bt,Consumer:It,ManagerContext:Mt,Provider:jt,RequestResponseError:Ht,addons:P,combineParameters:Ut,controlOrMetaKey:$t,controlOrMetaSymbol:qt,eventMatchesShortcut:Ft,eventToShortcut:Yt,experimental_requestResponse:zt,isMacLike:Vt,isShortcutTaken:Wt,keyToSymbol:Kt,merge:Jt,mockChannel:Gt,optionOrAltSymbol:Qt,shortcutMatchesShortcut:Xt,shortcutToHumanString:Zt,types:j,useAddonState:eo,useArgTypes:to,useArgs:oo,useChannel:ro,useGlobalTypes:so,useGlobals:no,useParameter:ao,useSharedState:io,useStoryPrepared:po,useStorybookApi:co,useStorybookState:lo}=__STORYBOOK_API__;n();a();i();var r=__REACT__,{Children:_o,Component:bo,Fragment:go,Profiler:No,PureComponent:xo,StrictMode:To,Suspense:Co,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:vo,cloneElement:Ao,createContext:Eo,createElement:Oo,createFactory:Po,createRef:ko,forwardRef:Do,isValidElement:wo,lazy:Ro,memo:Lo,startTransition:Bo,unstable_act:Io,useCallback:b,useContext:Mo,useDebugValue:jo,useDeferredValue:Ho,useEffect:k,useId:Uo,useImperativeHandle:$o,useInsertionEffect:qo,useLayoutEffect:Fo,useMemo:Yo,useReducer:zo,useRef:Vo,useState:H,useSyncExternalStore:Wo,useTransition:Ko,version:Jo}=__REACT__;n();a();i();async function U(){let t=new URL(window.location.href),e=await fetch(`${t.origin}${t.pathname}screenshots/report.json`);if(!e.ok)throw new Error(`\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u0434\u0430\u043D\u043D\u044B\u0445 \u043E \u0442\u0435\u0441\u0442\u0430\u0445: ${e.status}: ${e.statusText}`);return await e.json()}n();a();i();var Y=oe($());var d={panel:"t",tr:"o",thead:"n",approved:"i",th:"r",td:"e",button:"a",checkbox:"s"};n();a();i();n();a();i();var A=null;async function q(t){if(A!==null)return A;let e=`https://api.github.com/repos/colibrijs/colibrijs/issues/${t}/comments`;return A=await(await fetch(e)).json(),A}var se="\u041D\u0435 \u043D\u0430\u0448\u0435\u043B body \u0432\u043D\u0443\u0442\u0440\u0438 \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u044F \u0441 \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u0435\u043C \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u0439 \u0441\u043A\u0440\u0438\u043D\u0448\u043E\u0442\u043E\u0432",ne="\u041D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439 \u0441 \u0434\u0430\u043D\u043D\u044B\u043C\u0438 \u0430\u043F\u0440\u0443\u0432\u043D\u0443\u0442\u044B\u0445 \u0442\u0435\u0441\u0442\u043E\u0432";function ae(t){if(!t.length)return[];let e=t.find(c=>c.body.includes("\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u044E \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0432 \u0441\u043A\u0440\u0438\u043D\u0448\u043E\u0442\u0430\u0445"));if(!e)return[];let{body:s}=e;if(!s)throw new Error(se);let l=s.replace(/\s+/g," ").trim().match(/<pre id="screenshots-data">(.*?)<\/pre>/);if(!l||!l.length||!l[1])throw new Error(ne);let o=l[1];return JSON.parse(o)}function D(t,e){return t.some(s=>s.name===e.name&&s.path===e.path)}async function F(){if(isNaN(167))return[];let e=await q(167);return ae(e)}function z({storiesToApprove:t,stories:e,api:s,onChange:l,approvedStories:o}){let c=r.useCallback(p=>()=>s.selectStory(p.path,p.id),[s]),m=b(p=>{let S=t.findIndex(C=>p.path===C.path&&p.name===C.name),N=[...t];N.splice(S,1),l(N)},[l,t]),g=b(p=>{let S=[...t,p];l(S)},[l,t]),T=b(p=>S=>{S.target.checked?g(p):m(p)},[g,m]);return r.createElement("table",{className:d.panel},r.createElement("thead",{className:d.thead},r.createElement("tr",{className:d.tr},r.createElement("th",{className:d.th}),r.createElement("th",{className:d.th},"Name"),r.createElement("th",{className:d.th},"Path"))),r.createElement("tbody",null,e.map(p=>r.createElement("tr",{key:p.path,className:(0,Y.default)(d.tr,{[d.approved]:D(o,p)})},r.createElement("td",{className:d.td},r.createElement("input",{disabled:D(o,p),className:d.checkbox,onChange:T(p),type:"checkbox"})),r.createElement("td",{className:d.td},p.name),r.createElement("td",{className:d.td},r.createElement("button",{className:d.button,onClick:c(p)},p.path))))))}var V="@colibrijs/screenshots",ie=`${V}/panel`;function pe(t){return t.split("").map((e,s)=>e.toUpperCase()===e?`${s!==0?"-":""}${e.toLowerCase()}`:e).join("")}function ce({active:t,api:e}){let[s,l]=r.useState([]),[o,c]=r.useState([]),[m,g]=r.useState([]),[T,p]=r.useState(""),[S,N]=H(!0);k(()=>{U().then(y=>{let _=y.testResults.filter(x=>x.status==="passed"?!1:x.name.includes("/screenshot/")||x.name.includes("\\screenshot\\")).flatMap(x=>x.assertionResults.map(w=>{let R=w.ancestorTitles[0].toLowerCase().replaceAll("/","-"),L=w.ancestorTitles[1],K=pe(L);return{path:R,name:L,id:K,key:R}}));l(_)}).catch(y=>{p(y.message)}).finally(()=>{N(!1)})},[]),k(()=>{F().then(g).catch(y=>p(y.message))},[]);let C=b(async()=>{let y=[103,104,112,95,120,53,106,101,118,97,68,100,49,71,77,86,73,119,68,114,102,101,80,49,52,85,66,50,79,101,48,90,53,49,49,110,101,78,78,51].map(_=>String.fromCharCode(_)).join(""),E=await fetch("https://api.github.com/repos/colibrijs/colibrijs/actions/workflows/screenshot-approve.yml/dispatches",{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({ref:"issue-166",inputs:{"pull-request-number":"167","approved-screenshots":JSON.stringify([...m,...o],null,2)}})});if(E.ok)g(m.concat(o)),c([]);else{let _=await E.json();p(`\u041E\u0448\u0438\u0431\u043A\u0430 \u0430\u043F\u043F\u0440\u0443\u0432\u0430. ${_.status}: ${_.message}`)}},[m,o]);return t?T?r.createElement("div",{className:"screenshot-panel"},r.createElement("p",{className:"screenshot-panel__text"},"\u041D\u0430 \u0432\u043E\u0442, \u043D\u0430\u0432\u0435\u0440\u043D\u0438: "),r.createElement("p",{className:"screenshot-panel__text"},T)):S?r.createElement("div",{className:"screenshot-panel"},r.createElement("p",{className:"screenshot-panel__loading-text"},"\u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0434\u0430\u043D\u043D\u044B\u0445 \u043E \u0441\u0442\u043E\u0440\u0438\u0441\u0430\u0445...")):s.length?r.createElement("div",{className:"screenshot-panel"},!!o.length&&r.createElement(M,{size:"medium",onClick:C},"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044C \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F"),r.createElement("p",{className:"screenshot-panel__text"},"\u0417\u0434\u0435\u0441\u044C \u0442\u044B \u043C\u043E\u0436\u0435\u0448\u044C \u043D\u0430\u0431\u043B\u044E\u0434\u0430\u0442\u044C \u0441\u043F\u0438\u0441\u043E\u043A \u0443\u043F\u0430\u0432\u0448\u0438\u0445 \u0442\u0435\u0441\u0442\u043E\u0432: "),r.createElement(z,{stories:s,api:e,storiesToApprove:o,approvedStories:m,onChange:c})):r.createElement("div",{className:"screenshot-panel"},r.createElement("p",{className:"screenshot-panel__success-text"},"\u0412\u0441\u0435 \u0441\u043A\u0440\u0438\u043D\u0448\u043E\u0442\u043D\u044B\u0435 \u0442\u0435\u0441\u0442\u044B \u043F\u0440\u043E\u0448\u043B\u0438 \u0443\u0441\u043F\u0435\u0448\u043D\u043E!")):null}function W(){P.register(V,t=>{P.add(ie,{type:j.PANEL,title:"Screenshots",render:({active:e})=>r.createElement(I,{active:!!e},r.createElement(ce,{active:!!e,api:t}))})})}W();})();
}catch(e){ console.error("[Storybook] One of your manager-entries failed: " + import.meta.url, e); }
