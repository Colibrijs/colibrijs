try{
(()=>{var K=Object.create;var E=Object.defineProperty;var z=Object.getOwnPropertyDescriptor;var Q=Object.getOwnPropertyNames;var J=Object.getPrototypeOf,Z=Object.prototype.hasOwnProperty;var N=(e,o)=>()=>(e&&(o=e(e=0)),o);var X=(e,o)=>()=>(o||e((o={exports:{}}).exports,o),o.exports);var oo=(e,o,r,s)=>{if(o&&typeof o=="object"||typeof o=="function")for(let n of Q(o))!Z.call(e,n)&&n!==r&&E(e,n,{get:()=>o[n],enumerable:!(s=z(o,n))||s.enumerable});return e};var eo=(e,o,r)=>(r=e!=null?K(J(e)):{},oo(o||!e||!e.__esModule?E(r,"default",{value:e,enumerable:!0}):r,e));var a=N(()=>{});var c=N(()=>{});var i=N(()=>{});var U=X((Rc,T)=>{a();c();i();(function(){"use strict";var e={}.hasOwnProperty;function o(){for(var n="",p=0;p<arguments.length;p++){var m=arguments[p];m&&(n=s(n,r(m)))}return n}function r(n){if(typeof n=="string"||typeof n=="number")return n;if(typeof n!="object")return"";if(Array.isArray(n))return o.apply(null,n);if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]"))return n.toString();var p="";for(var m in n)e.call(n,m)&&n[m]&&(p=s(p,m));return p}function s(n,p){return p?n?n+" "+p:n+p:n}typeof T<"u"&&T.exports?(o.default=o,T.exports=o):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return o}):window.classNames=o})()});a();c();i();a();c();i();a();c();i();a();c();i();var So=__STORYBOOK_API__,{ActiveTabs:yo,Consumer:Co,ManagerContext:go,Provider:bo,RequestResponseError:_o,addons:_,combineParameters:Ao,controlOrMetaKey:xo,controlOrMetaSymbol:To,eventMatchesShortcut:Po,eventToShortcut:ko,experimental_requestResponse:No,isMacLike:vo,isShortcutTaken:Do,keyToSymbol:wo,merge:Oo,mockChannel:Eo,optionOrAltSymbol:Bo,shortcutMatchesShortcut:Lo,shortcutToHumanString:Ro,types:v,useAddonState:Fo,useArgTypes:Ho,useArgs:Mo,useChannel:Uo,useGlobalTypes:Go,useGlobals:A,useParameter:$o,useSharedState:qo,useStoryPrepared:jo,useStorybookApi:Wo,useStorybookState:Yo}=__STORYBOOK_API__;a();c();i();var t=__REACT__,{Children:Jo,Component:Zo,Fragment:Xo,Profiler:oe,PureComponent:ee,StrictMode:te,Suspense:ne,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:re,cloneElement:se,createContext:ae,createElement:ce,createFactory:ie,createRef:le,forwardRef:pe,isValidElement:me,lazy:ue,memo:Ie,startTransition:de,unstable_act:he,useCallback:fe,useContext:Se,useDebugValue:ye,useDeferredValue:Ce,useEffect:ge,useId:be,useImperativeHandle:_e,useInsertionEffect:Ae,useLayoutEffect:xe,useMemo:Te,useReducer:Pe,useRef:ke,useState:Ne,useSyncExternalStore:ve,useTransition:De,version:we}=__REACT__;a();c();i();a();c();i();var Re=__STORYBOOK_COMPONENTS__,{A:Fe,ActionBar:He,AddonPanel:B,Badge:Me,Bar:Ue,Blockquote:Ge,Button:L,ClipboardCode:$e,Code:qe,DL:je,Div:We,DocumentWrapper:Ye,EmptyTabContent:Ve,ErrorFormatter:Ke,FlexBar:ze,Form:Qe,H1:Je,H2:Ze,H3:Xe,H4:ot,H5:et,H6:tt,HR:nt,IconButton:R,IconButtonSkeleton:rt,Icons:st,Img:at,LI:ct,Link:it,ListItem:lt,Loader:pt,Modal:mt,OL:ut,P:It,Placeholder:dt,Pre:ht,ResetWrapper:ft,ScrollArea:St,Separator:yt,Spaced:Ct,Span:gt,StorybookIcon:bt,StorybookLogo:_t,Symbols:At,SyntaxHighlighter:xt,TT:Tt,TabBar:Pt,TabButton:kt,TabWrapper:Nt,Table:vt,Tabs:Dt,TabsState:wt,TooltipLinkList:Ot,TooltipMessage:Et,TooltipNote:Bt,UL:Lt,WithTooltip:Rt,WithTooltipPure:Ft,Zoom:Ht,codeCommon:Mt,components:Ut,createCopyToClipboardFunction:Gt,getStoryHref:$t,icons:qt,interleaveSeparators:jt,nameSpaceClassNames:Wt,resetComponents:Yt,withReset:Vt}=__STORYBOOK_COMPONENTS__;a();c();i();var Zt=__STORYBOOK_ICONS__,{AccessibilityAltIcon:Xt,AccessibilityIcon:on,AddIcon:en,AdminIcon:tn,AlertAltIcon:nn,AlertIcon:rn,AlignLeftIcon:sn,AlignRightIcon:an,AppleIcon:cn,ArrowDownIcon:ln,ArrowLeftIcon:pn,ArrowRightIcon:mn,ArrowSolidDownIcon:un,ArrowSolidLeftIcon:In,ArrowSolidRightIcon:dn,ArrowSolidUpIcon:hn,ArrowUpIcon:fn,AzureDevOpsIcon:Sn,BackIcon:yn,BasketIcon:Cn,BatchAcceptIcon:gn,BatchDenyIcon:bn,BeakerIcon:_n,BellIcon:An,BitbucketIcon:xn,BoldIcon:Tn,BookIcon:Pn,BookmarkHollowIcon:kn,BookmarkIcon:Nn,BottomBarIcon:vn,BottomBarToggleIcon:Dn,BoxIcon:wn,BranchIcon:On,BrowserIcon:En,ButtonIcon:Bn,CPUIcon:Ln,CalendarIcon:Rn,CameraIcon:Fn,CategoryIcon:Hn,CertificateIcon:Mn,ChangedIcon:Un,ChatIcon:Gn,CheckIcon:$n,ChevronDownIcon:qn,ChevronLeftIcon:jn,ChevronRightIcon:Wn,ChevronSmallDownIcon:Yn,ChevronSmallLeftIcon:Vn,ChevronSmallRightIcon:Kn,ChevronSmallUpIcon:zn,ChevronUpIcon:Qn,ChromaticIcon:Jn,ChromeIcon:Zn,CircleHollowIcon:Xn,CircleIcon:or,ClearIcon:er,CloseAltIcon:tr,CloseIcon:nr,CloudHollowIcon:rr,CloudIcon:sr,CogIcon:ar,CollapseIcon:cr,CommandIcon:ir,CommentAddIcon:lr,CommentIcon:pr,CommentsIcon:mr,CommitIcon:ur,CompassIcon:Ir,ComponentDrivenIcon:dr,ComponentIcon:hr,ContrastIcon:fr,ControlsIcon:Sr,CopyIcon:yr,CreditIcon:Cr,CrossIcon:gr,DashboardIcon:br,DatabaseIcon:_r,DeleteIcon:Ar,DiamondIcon:xr,DirectionIcon:Tr,DiscordIcon:Pr,DocChartIcon:kr,DocListIcon:Nr,DocumentIcon:vr,DownloadIcon:Dr,DragIcon:wr,EditIcon:Or,EllipsisIcon:Er,EmailIcon:Br,ExpandAltIcon:Lr,ExpandIcon:Rr,EyeCloseIcon:Fr,EyeIcon:Hr,FaceHappyIcon:Mr,FaceNeutralIcon:Ur,FaceSadIcon:Gr,FacebookIcon:$r,FailedIcon:qr,FastForwardIcon:jr,FigmaIcon:Wr,FilterIcon:Yr,FlagIcon:Vr,FolderIcon:Kr,FormIcon:zr,GDriveIcon:Qr,GithubIcon:Jr,GitlabIcon:Zr,GlobeIcon:Xr,GoogleIcon:os,GraphBarIcon:es,GraphLineIcon:ts,GraphqlIcon:ns,GridAltIcon:rs,GridIcon:ss,GrowIcon:as,HeartHollowIcon:cs,HeartIcon:is,HomeIcon:ls,HourglassIcon:ps,InfoIcon:ms,ItalicIcon:us,JumpToIcon:Is,KeyIcon:ds,LightningIcon:hs,LightningOffIcon:fs,LinkBrokenIcon:Ss,LinkIcon:ys,LinkedinIcon:Cs,LinuxIcon:gs,ListOrderedIcon:bs,ListUnorderedIcon:_s,LocationIcon:As,LockIcon:xs,MarkdownIcon:Ts,MarkupIcon:Ps,MediumIcon:ks,MemoryIcon:Ns,MenuIcon:vs,MergeIcon:Ds,MirrorIcon:ws,MobileIcon:Os,MoonIcon:Es,NutIcon:Bs,OutboxIcon:Ls,OutlineIcon:Rs,PaintBrushIcon:Fs,PaperClipIcon:Hs,ParagraphIcon:Ms,PassedIcon:Us,PhoneIcon:Gs,PhotoDragIcon:F,PhotoIcon:$s,PinAltIcon:qs,PinIcon:js,PlayBackIcon:Ws,PlayIcon:Ys,PlayNextIcon:Vs,PlusIcon:Ks,PointerDefaultIcon:zs,PointerHandIcon:Qs,PowerIcon:Js,PrintIcon:Zs,ProceedIcon:Xs,ProfileIcon:oa,PullRequestIcon:ea,QuestionIcon:ta,RSSIcon:na,RedirectIcon:ra,ReduxIcon:sa,RefreshIcon:aa,ReplyIcon:ca,RepoIcon:ia,RequestChangeIcon:la,RewindIcon:pa,RulerIcon:ma,SearchIcon:ua,ShareAltIcon:Ia,ShareIcon:da,ShieldIcon:ha,SideBySideIcon:fa,SidebarAltIcon:Sa,SidebarAltToggleIcon:ya,SidebarIcon:Ca,SidebarToggleIcon:ga,SpeakerIcon:ba,StackedIcon:_a,StarHollowIcon:Aa,StarIcon:xa,StickerIcon:Ta,StopAltIcon:Pa,StopIcon:ka,StorybookIcon:Na,StructureIcon:va,SubtractIcon:Da,SunIcon:wa,SupportIcon:Oa,SwitchAltIcon:Ea,SyncIcon:Ba,TabletIcon:La,ThumbsUpIcon:Ra,TimeIcon:Fa,TimerIcon:Ha,TransferIcon:Ma,TrashIcon:Ua,TwitterIcon:Ga,TypeIcon:$a,UbuntuIcon:qa,UndoIcon:ja,UnfoldIcon:Wa,UnlockIcon:Ya,UnpinIcon:Va,UploadIcon:Ka,UserAddIcon:za,UserAltIcon:Qa,UserIcon:Ja,UsersIcon:Za,VSCodeIcon:Xa,VerifiedIcon:oc,VideoIcon:ec,WandIcon:tc,WatchIcon:nc,WindowsIcon:rc,WrenchIcon:sc,YoutubeIcon:ac,ZoomIcon:cc,ZoomOutIcon:ic,ZoomResetIcon:lc,iconList:pc}=__STORYBOOK_ICONS__;a();c();i();a();c();i();async function H(){let e=new URL(window.location.href),o=await fetch(`${e.origin}${e.pathname}screenshots/report.json`);if(!o.ok)throw new Error(`\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u0434\u0430\u043D\u043D\u044B\u0445 \u043E \u0442\u0435\u0441\u0442\u0430\u0445: ${o.status}: ${o.statusText}`);return o.json()}function to(e){return e.split("").map((o,r)=>o.toUpperCase()===o?`${r!==0?"-":""}${o.toLowerCase()}`:o).join("")}function x(e){let[o,r]=t.useState({status:"idle",stories:[],error:null,isLoading:!1});return t.useEffect(()=>{r({status:"loading",isLoading:!0,stories:[],error:null}),H().then(s=>{let p=s.testResults.filter(m=>m.status==="passed"?!1:m.name.includes("/screenshot/")||m.name.includes("\\screenshot\\")).flatMap(m=>m.assertionResults.map(u=>{let y=u.ancestorTitles[0].toLowerCase().replaceAll("/","-"),l=u.ancestorTitles[1],S=to(l),C=y+"--"+S,g=e.getData(C).name;return{path:y,name:l,id:S,key:y,title:g}}));r({status:"success",isLoading:!1,stories:p,error:null})}).catch(s=>{r({status:"error",isLoading:!1,stories:[],error:s})})},[e]),o}function M({api:e}){let[o,r]=A(),{stories:s}=x(e),n=t.useCallback(()=>{r({screenshotsComparatorActive:!o.screenshotsComparatorActive})},[o.screenshotsComparatorActive,r]),p=e.getCurrentStoryData();if(!p)return;if(!s.some(u=>{let y=u.path+"--"+u.id;return p.id===y})){o.screenshotsComparatorActive&&r({screenshotsComparatorActive:!1});return}return t.createElement(R,{active:!!o.screenshotsComparatorActive,title:"Compare screenshots",onClick:n},t.createElement(F,null))}a();c();i();a();c();i();var q=eo(U());var f={panel:"t",tr:"o",thead:"n",approved:"i",th:"r",td:"e",button:"a",checkbox:"s"};a();c();i();a();c();i();var P=null;async function G(e){if(P!==null)return P;let o=`https://api.github.com/repos/${e.repositoryOwner}/${e.repositoryName}/issues/${e.pullRequestNumber}/comments`;return P=await(await fetch(o)).json(),P}var ro="\u041D\u0435 \u043D\u0430\u0448\u0435\u043B body \u0432\u043D\u0443\u0442\u0440\u0438 \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u044F \u0441 \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u0435\u043C \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u0439 \u0441\u043A\u0440\u0438\u043D\u0448\u043E\u0442\u043E\u0432",so="\u041D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439 \u0441 \u0434\u0430\u043D\u043D\u044B\u043C\u0438 \u0430\u043F\u0440\u0443\u0432\u043D\u0443\u0442\u044B\u0445 \u0442\u0435\u0441\u0442\u043E\u0432";function ao(e){if(!e.length)return[];let o=e.find(p=>p.body.includes("\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u044E \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0432 \u0441\u043A\u0440\u0438\u043D\u0448\u043E\u0442\u0430\u0445"));if(!o)return[];let{body:r}=o;if(!r)throw new Error(ro);let s=r.replace(/\s+/g," ").trim().match(/<pre id="screenshots-data">(.*?)<\/pre>/);if(!s||!s.length||!s[1])throw new Error(so);let n=s[1];return JSON.parse(n)}function D(e,o){return e.some(r=>r.name===o.name&&r.path===o.path)}async function $(e){let o=Number(e.pullRequestNumber);if(!o||isNaN(o))return[];let r=await G(e);return ao(r)}function j({storiesToApprove:e,stories:o,api:r,onChange:s,approvedStories:n}){let p=t.useCallback(l=>()=>r.selectStory(l.path,l.id),[r]),m=t.useCallback(l=>{let S=e.findIndex(g=>l.path===g.path&&l.name===g.name),C=[...e];C.splice(S,1),s(C)},[s,e]),u=t.useCallback(l=>{let S=[...e,l];s(S)},[s,e]),y=t.useCallback(l=>S=>{S.target.checked?u(l):m(l)},[u,m]);return t.createElement("table",{className:f.panel},t.createElement("thead",{className:f.thead},t.createElement("tr",{className:f.tr},t.createElement("th",{className:f.th}),t.createElement("th",{className:f.th},"Name"),t.createElement("th",{className:f.th},"Title"))),t.createElement("tbody",null,o.map(l=>t.createElement("tr",{key:l.path+l.name,className:(0,q.default)(f.tr,{[f.approved]:D(n,l)})},t.createElement("td",{className:f.td},t.createElement("input",{disabled:D(n,l),className:f.checkbox,onChange:y(l),type:"checkbox"})),t.createElement("td",{className:f.td},l.name),t.createElement("td",{className:f.td},t.createElement("button",{className:f.button,onClick:p(l)},l.title))))))}function W({active:e,api:o}){let[r]=A(),s=r.sauronEye,{status:n,stories:p,error:m}=x(o),[u,y]=t.useState([]),[l,S]=t.useState([]),[C,g]=t.useState("");t.useEffect(()=>{$(s).then(S).catch(k=>g(k.message))},[s]);let V=t.useCallback(async()=>{let k=s.githubToken.split(",").map(b=>String.fromCharCode(Number(b))).join(""),O=await fetch(`https://api.github.com/repos/${s.repositoryOwner}/${s.repositoryName}/actions/workflows/screenshot-approve.yml/dispatches`,{method:"POST",headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"},body:JSON.stringify({ref:s.branchName,inputs:{"pull-request-number":s.pullRequestNumber,"approved-screenshots":JSON.stringify([...l,...u],null,2)}})});if(O.ok)S(l.concat(u)),y([]);else{let b=await O.json();g(`\u041E\u0448\u0438\u0431\u043A\u0430 \u0430\u043F\u043F\u0440\u0443\u0432\u0430. ${b.status}: ${b.message}`)}},[s,l,u]);return e?n==="error"||C?t.createElement("div",{className:"screenshot-panel"},t.createElement("p",{className:"screenshot-panel__text"},"\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u043E \u043D\u0435\u043B\u0430\u0434\u043D\u043E\u0435: "),t.createElement("pre",{className:"screenshot-panel__text"},m?.message||C)):n==="loading"?t.createElement("div",{className:"screenshot-panel"},t.createElement("p",{className:"screenshot-panel__loading-text"},"\u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0434\u0430\u043D\u043D\u044B\u0445 \u043E \u0441\u0442\u043E\u0440\u0438\u0441\u0430\u0445...")):p.length?t.createElement(B,{active:e},t.createElement("div",{className:"screenshot-panel"},!!u.length&&t.createElement(L,{size:"medium",onClick:V},"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044C \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F"),t.createElement("p",{className:"screenshot-panel__text"},"\u0417\u0434\u0435\u0441\u044C \u0442\u044B \u043C\u043E\u0436\u0435\u0448\u044C \u043D\u0430\u0431\u043B\u044E\u0434\u0430\u0442\u044C \u0441\u043F\u0438\u0441\u043E\u043A \u0443\u043F\u0430\u0432\u0448\u0438\u0445 \u0442\u0435\u0441\u0442\u043E\u0432: "),t.createElement(j,{stories:p,api:o,storiesToApprove:u,approvedStories:l,onChange:y}))):t.createElement("div",{className:"screenshot-panel"},t.createElement("p",{className:"screenshot-panel__success-text"},"\u0412\u0441\u0435 \u0441\u043A\u0440\u0438\u043D\u0448\u043E\u0442\u043D\u044B\u0435 \u0442\u0435\u0441\u0442\u044B \u043F\u0440\u043E\u0448\u043B\u0438 \u0443\u0441\u043F\u0435\u0448\u043D\u043E!")):null}var w="@colibrijs/screenshots",co=`${w}/panel`,io=`${w}/screenshots-diff-tool`;function Y(){_.register(w,e=>{_.add(co,{type:v.PANEL,title:"Screenshots",render:({active:o})=>t.createElement(W,{active:!!o,api:e})}),_.add(io,{type:v.TOOL,title:"Compare sheet",render:()=>t.createElement(M,{api:e})})})}Y();})();
}catch(e){ console.error("[Storybook] One of your manager-entries failed: " + import.meta.url, e); }
